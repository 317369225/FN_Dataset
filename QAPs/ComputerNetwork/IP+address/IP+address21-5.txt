★How do I do fast local geolocation of an IP address?I need to determine a city, state, and country from an IP address very quickly, in a matter of milliseconds.  This speed requirement demands that I do it based on a local database.  I've downloaded the hostip.info database but I can't find any instructions on how to do lookups in it.  Does anyone have any suggestions?  A free option would be ideal.
We at Times Internet Limited use ip2location database for geo targeting in our AdServer layer. The database provided by ip2location  is of the form of subnet_from: subnet_t0:city:country We load this data in redis for fast querying since this call is made real time while adserving. Redis sorted set datastructure is used in our algo and scoce is given on the basis of subnet from. At the time of ad call the incoming IP is converted into the subnet mask. Eg subnetmask for 23.24.25.26   = 23* 256^3 + 24*256^2 + 25*256 + 26                                                             = 387455258 This subnetmask is then queried into redis using zrangebyscore command. A per our experience this has been very fast and decently accurate.