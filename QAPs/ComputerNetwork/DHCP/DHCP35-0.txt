â˜…How can I force my Mac to get a DHCP-assigned IP address instead of a ZeroConf IP address on WiFi?My OS X Mac failed to connect to a particular Wi-Fi network, because it self-assigned an IP address rather than letting the network assign it one. How can I prevent this?
If your Mac has self-assigned an address in the 169.254.X.X/16 network range, that's a "zero configuration" ("ZeroConf") IP address. ZeroConf IP addresses are used when a Mac (or any other IP host on any LAN) has tried to get an address with DHCP, and failed. This IP network address range is set aside for such use so that IP network hosts on the same LAN can still talk to each other absent prior administrative arrangement, e.g. a Mac and a Laser Printer. So, why did this happen to you? Possibilities (presuming that the WiFi network either isn't encrypted, or you have the WEP/WPA key (password), and have established access to the basic radio level of the WiFi network, i.e. the WiFi icon in your menu bar shows connection): The DHCP server didn't hear your Mac's request. Your Mac didn't hear the DHCP server's reply. Your Mac heard the DHCP server reply, but the reply didn't pass basic sanity checks (e.g. DHCP server offered you an IP address and a default route that aren't in the same network range according to the network mask). The DHCP server reply didn't offer you an IP address (it's all out of available IP addresses until the lease expires on one already assigned). The Wi-Fi network is either being interfered with, or is hopelessly congested (overloaded).In such situations, all you can do is try again. Or complain to whoever operates the WiFi network. Two basic approaches I use to "try again": As Paul Mateescu suggests, the Network Preferences panel; if the TCP/IP section is set to use DHCP, there should be both a "renew DHCP lease" button (which will force another DHCP request out onto the LAN), and a "client ID" (some ISPs require you to set this to some particular value (which you should save before trying what I'm going to suggest!), but most often it's blank. You can set the Client ID to an arbitrary string, and the DHCP server should "see" you as a different client, despite you having the same MAC address as before, though that's DHCP server implementation dependent. Change the Client ID, and hit "renew" again. Be a little patient with these retries (i.e. count to 10 before repeating). Bear in mind that your MAC (network interface) address and the DHCP client ID will likely be logged, i.e. you might not want to be profane. When #1 doesn't work, I sleep my laptop, count to ten, and wake it up again. Sometimes this works. Sometimes not.At this point, if you're still not getting what appears to be an assigned-by-DHCP IP address, it would be a fine time to fire up a network sniffer and try to get some idea just how bad the WiFi network is ...