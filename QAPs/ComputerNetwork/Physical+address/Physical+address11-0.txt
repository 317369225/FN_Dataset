★How does the OS keep track of a pointer from virtual address space to physical address space when data in physical address space is moved to the swap file?follow-up to What exactly causes a page fault? I would presume that the pointer isn't updated immediately after the swapping is done(?)
As far as I understand it (my experience is limited to educational projects in college, so I'm likely not the best person to answer), pointers are not updated, as that would be extremely expensive, and would require somehow being able to know what data is pointers. Rather, the entry in the page table is set to invalid. When a pointer is dereferenced, it will cause a page fault, and the OS will be able to realize that the page has been swapped out. The OS will then bring the page back into memory at the old virtual address, and resume execution right before the page fault occurred.    Embed Quote