â˜…Why are private IPv4 addresses necessary, and how do they work?
Private IPv4 addresses (specifically those defined in RFC 1918: Address Allocation for Private Internets) were devised to address the expected eventual shortage of globally-accessible IP addresses (i.e. addresses for nodes that would both consume and offer online services). Basically, it set aside specific IP address blocks that could be used by anyone for any purpose, with the understanding that these addresses would never be seen on the public Internet. This way, you and I and the NSA can use exactly the same addresses from these blocks in our own networks without confusing all the routers in between us. To make this work, your Internet router becomes a proxy for all your Internet-bound traffic. The basic mechanism it uses is called network address translation (NAT), and works roughly as follows. Assume your desktop PC has IP address 192.168.0.32, and your router's public IP is 8.1.2.3. Then: Your router receives an IP packet from port 12345 on your desktop. It picks a random port that it's not currently using on the public IP side (say, 33425), and internally records a mapping between 192.168.0.32:12345 and 8.1.2.3:33425. It replaces 192.168.0.32:12345 in the header of your IP packet with 8.1.2.3:33425 and sends the modified packet on to your destination (say, google.com). Google sees the request from 8.1.2.3:33425, does what it asks, and sends the reply to 8.1.2.3:33425. Your router receives the reply and looks up 8.1.2.3:33425, replaces it in the IP header with 192.168.0.32:12345, then sends it off to your desktop. Repeat [1]-[5] for all your Internet traffic.(Network pedants would note that I'm glossing over things like mapping caches, DMZ configuration and such, in the interest of simplicity.) The net effect is that your Internet service provider just needs to give one public IP address to your router, whether you have just one or a thousand hosts behind it.