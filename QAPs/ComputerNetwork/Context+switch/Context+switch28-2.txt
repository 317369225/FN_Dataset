★How does thread switching differ from process switching?In most systems it’s possible to switch between threads much faster than it is possible to switch between processes. How does thread versus process switching differ? What is the performance difference?
Linux is a special case, in that all threads are mapped one-to-one to kernel processes. Forking and creating a thread are both implemented in the kernel by a single system call (clone). In other operating systems (e.g. Solaris), processes can implement "process level threads" that are lighter weight but don't take advantage of multiple CPU cores. In a dedicated system, there is often a single processes that is doing the real work that has one worker thread per CPU core. In this case, most of the time is spent in a small part of this single process. One would think that having the workers in a single process might give a huge speed improvement in this case. Because code and data can be shared by processes, its not as big a difference as you might guess.