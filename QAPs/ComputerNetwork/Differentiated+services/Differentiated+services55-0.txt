★When setting up an IT budget, one needs to include various software licenses across the company. It gets tricky, however, with online services. What is the list of criteria to differentiate the things that are clearly IT from those which are not?
You should view IT as a support process for the whole company. Then you add everything that provides a technical tool or service for your company to fufill its business duties to the IT-Budget.  e. g. the software used by controlling is part of the it-budget but the costs are then added to to the controlling cost center. This way you can see which amount of money in total is needed for it-services, helping you to decide about staffing or outsourcing.