Graph Theory: Let G be a randomly generated graph with n vertices. What is the probability that G is connected?
Source: This proof is paraphrased from Foundations of Data Science, Hopcroft and Kannan, Ravi Kannan - Microsoft Research We can show that G is asymptotically almost surely connected. This means the probability goes to 1 as [math]n[/math] increases. We will be a bit more general than a fair coin and assume each edge has a probability [math]p[/math] of being present. First we will find an upper bound on the expected number of connected components of size [math]k[/math]. It is often easier to work in terms of expectations than in terms of probabilities, because we don't have to worry about double counting as much. The probability that a given [math]k[/math] vertices form a connected component is the product of the probability that no vertex is connected to any outside vertex and the probability that the vertices are connected. The first probability is [math](1-p)^{k(n-k)}[/math] because there are [math]k(n-k)[/math] possible edges between the [math]k[/math] vertices and the rest of the graph, each with probability [math](1-p)[/math] of not being chosen. The second probability is a little harder, and is where the upper bound comes in. If the vertices are connected there exists some spanning tree, so the probability that the vertices are connected is at most the sum of the probabilities that each spanning tree is present. Each spanning tree has [math]k-1[/math] edges, so a [math]p^{k-1}[/math] probability of being present. It can be shown that there are [math]k^{k-2}[/math] possible spanning trees, so the upper bound on the probability is [math]k^{k-2}p^{k-1}[/math]. Then the probability that a given [math]k[/math] vertices form a connected component is at most [math]k^{k-2}p^{k-1}(1-p)^{k(n-k)} [/math], and there are [math]{n \choose k}[/math] sets of [math]k[/math] vertices, so an upper bound on the expected number of connected components of size [math]k[/math] is [math]{n \choose k}k^{k-2}p^{k-1}(1-p)^{k(n-k)} [/math]. Now we only need to consider connected components of size 1 to [math]\frac{n}{2}[/math], because if there is a connected component of size less than [math]n[/math] and more than [math]\frac{n}{2}[/math], there must be a connected component of size less than [math]\frac{n}{2}[/math]. If [math]p = \frac{1}{2}[/math], the expected number of components of size [math]k[/math] is [math]{n \choose k}\frac{k^{k-2}}{2^{kn -k^2 + k -1}} [/math]. It can be shown that [math]{n \choose k} \leq \left( \frac{en}{k}\right)^k[/math], so we can use the looser upper bound [math]\left( \frac{en}{k}\right)^k\frac{k^{k-2}}{2^{kn -k^2 + k -1}}  =\frac{(en)^k}{k^2 2^{kn -k^2 + k -1}} = \left(\frac{en}{2^{n-k+1}}\right)^k \frac{2}{k^2}  [/math]. Now since [math]k \leq \frac{n}{2}[/math], [math]n-k+1 > \frac{n}{2}[/math]. Since the numerator grows linearly and the denominator grows exponentially in [math]n[/math], the expected number of connected components shrinks exponentially in [math]n[/math]. Since the number of values of [math]k[/math] is linear in [math]n[/math], the total expected number of connected components of size less than [math]\frac{n}{2}[/math] decreases exponentially, so there is a high probability that the graph is connected. (See Hopcroft and Kannan for a more detailed proof, especially near the end, and lots of other great ideas). 