Why have the wages of the American middle class stagnated for decades?
Supply and demand.  Automation has decreased demand for labor, while the supply (including cheap foreign labor) has increased.  The only surprise in such a scenario is that wages haven't declined far more.  People whose labor is less readily replaceable have done OK, while people who own capital have done fantastically well.  Thus was it once, thus is it now, thus will it ever be.  Only the details change, not the results. 