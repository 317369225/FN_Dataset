What is a way to show that given a undirected graph G and an integer k, determining if G contains as a subgraph a shaggy path of k vertices is NP-complete using Hamiltonian cycle problem?The question said that, A shaggy path is a connected undirected graph such that when all vertices of degree at most 2 are identified and then deleted, what remains is a simple path.
I will instead reduce from the Hamiltonian path problem. If you really wanted to reduce from Hamiltonian cycle, you can start with the reduction found here, and compose it with the following reduction. Let G  be the graph you are trying to find a Hamiltonian path in. Let n=|G|  be the number of vertices in G  . Construct the graph G ′   as follows. For each vertex v∈G  , add two new vertices y,z  along with the edges (v,y),(v,z)  . I will show that the problem of whether G ′   contains a Shaggy subgraph with at least 3n  vertices (all its vertices) is equivalent to whether G  contains a Hamiltonian path. Hamiltonian path →  Shaggy subgraph If G  has a Hamiltonian path C  , then G ′   has a Shaggy subgraph consisting of all the vertices in G ′   , all the edges in C  , and all the edges in G ′   , but not in G  . Shaggy subgraph →  Hamiltonian path Suppose that G ′   has a Shaggy subgraph H  with 3n  vertices. Let H ′   be the result of deleting all vertices of degree at most two from H  . Since H  was shaggy, H ′   must be a path. Suppose for contradiction that G  contains a vertex v  not in H ′   . Then v  must have at most degree two in H  , furthermore v  must be connected to the two neighbors we added when constructing G ′   , otherwise those vertices would be disconnected from H  . However, this implies that v  has no other neighbors and is disconnected from the rest of H  , which contradicts the assumption that H  is shaggy. Therefore H ′   contains all of the vertices in G  , and is therefore a Hamiltonian path of G  . 