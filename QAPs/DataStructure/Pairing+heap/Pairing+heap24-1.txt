What is the best way to sort a terabyte of array of data, when you have limited RAM (500k), and each array element has a couple of items of data, at about 1-10k each?
You'd want to use some version of an External sorting algorithm like external merge sort. The exact parameters to tune it with depend heavily on the physical parameters of your main memory and disk. One particular optimization you might be able to make to great effect would be to instead sort pointers to the data where each pointer additionally stores a few of the most significant bytes of the item. (When those bytes aren't enough to distinguish items, you'd need to follow the pointers to the items themselves.) This optimization allows you to store many more elements in main memory at once so fewer passes are needed to sort. 