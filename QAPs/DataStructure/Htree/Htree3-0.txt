What is the performance reason why I should not have hundreds of thousands of small files in a single directory on an ext2/ext3 file system, if any?
Above is not quite right.  The max number of -links- is EXT3_LINK_MAX, or 32000 (with "." and ".." that does leave 31998) but this limits the number of subdirs, not the number of directory entries.  You can have many more than 32000 directory entries. ext2 does do a linear search of directories, so looking up, adding, or removing files will be very slow as the directory gets larger.  ext3 uses something called "htrees" which is a fair bit faster.  One other thing to bear in mind is that extN directories never shrink, so if you make a huge one and remove all the files, the directory itself is still taking up as much space as it ever did for all the filenames. Updated 258w ago • View Upvotes