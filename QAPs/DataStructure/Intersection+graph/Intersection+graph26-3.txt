If f(f(x))=x 2 −1  , what is f(x)  ?Obviously there are an infinite many solutions, but just one will suffice :P
Thanks for the A2A.   After the answers of  Joseph Heavner and David Joyce I decided to ignore this problem as not having a solution but  Alon Amit's answer inspired me to look for a proof of this fact. In general, the functional equations are rather funny, they incorporate weird mathematical structures and  resemble more logic games  than usual math. Suppose that f  is a solution of this problem. Let F    be the set of fixed points of f  , i.e F={x∈K:f(x)=x}  , where K  is an arbitrary field, it can be for example R,C  , or a finite field. Thus fixed points  of F  satisfy x 2 −1=x.  Note that neither 0  nor −1  are not in F.  Now let  a=f(−1)  and  b=f(0).  (*) Then plugging them into the equation we get f(a)=0    and f(b)=−1.  (**) Well, then  f(f(a))=b    and f(f(b))=a.  So  a,b  satisfy the following system of equations {a 2 −1=bb 2 −1=a   Well subtracting them yields  a 2 −b 2 +a−b=(a−b)(a+b+1)=0.  The first case:  a=b.  But then using (**) we see 0=f(a)=f(b)=−1.  A contradiction. The second case: b=−(a+1).  Then a 2 −1=−(a+1)  .   Then we have two solutions pair of solutions (a,b)=(−1,0)  and (a,b)=(0,−1).  Then for (a,b)=(−1,0)  and (a,b)=(0,−1)  (*) and (**) imply that f(0)=0,f(−1)=−1  , but  0,−1  are not fixed points of f.  ■  Generalization The above approach can be easily generalized, thus arriving at sufficient conditions  such that the functional equation  f(f(x))=x 2 +px+q  has no solutions. Lemma.  (Special thanks to Alon Amit for his encouraging comment ) Let  K  be a field. Suppose that  the following  system of equations {u 2 +pu+q=vv 2 +pv+q=u   (+) has a solution  (u,v)  such that u≠v.  Then the functional equation f(f(x))=x 2 +px+q  (++) has no solutions in f.  Proof.   Let  (u,v)∈K 2   a solution of (+) such that u≠v.    Suppose now there is  f  that satisfies the equation (+). Let a=f(u)    and b=f(v)  . Note that f(a)=f(f(u))=v    and f(b)=f(f(v))=u  are different, so a≠b.  Moreover,  f(f(a))=b  and f(f(b))=a.  So  (a,b)  is a solution of (+) again. Note that (+) has at at most 4 pairs of solution from which at most two pairs solutions lie on the line x=y    and the other two pairs lie on the line x+y+p+1=0.  Since equation in (+) are symmetric with respect to permutation of x and y and u≠v    there are two pairs of solutions of (+) lying on the line  (u,v)  and (v,u).    Thus (a,b)  must coincide with one of these pairs. Therefore there are two possibilities  f(u)=u    and  f(v)=v  or f(u)=v  and f(v)=u.     Case 1. Suppose  f(u)=u  and f(v)=v.    Then applying f  to the both sides of the first equality we get v=f(f(u))=f(u)  . Thus it follows u=v  and, hence, a contradiction. Case 2.  Suppose that  f(u)=v  and f(v)=u.  Then applying f  to it we get v=f(f(u))=f(v)  and a contradiction again. Thus we conclude that such f  doesn't exist. ■  The above lemma gives a purely algebraical criterion for non-existence of solutions  of the functional eq. (++). In particular, it implies that over algebraically closed field, for example, C  eq. (++) has almost always no solutions. To see it consider the system of equations: {u 2 +pu+q=vv 2 +pv+q=u   If K  is algebraically closed, it has always a solution on the line u+v+p+1=0  .   Thus the only cases not covered by the lemma where we can hope for a solution is u=v.  If the characteristic of K  is not 2, it just means  u=v=−p+12 .  Thus the following condition on coefficient is necessary for existence of solutions : (p+12 ) 2 −p⋅p+12 +q=−p+12 .  So it happens almost never. Otherwise there are no solutions possible.  Some may find this counterintuitive, there are almost always no solutions over C  possible, but as pointed out by  Joseph Heavner and David Joyce in their answers, there are some solutions over R  possible.  The condition on coefficients is given by some discriminant of quadratic equation, so intuitively, there are solutions in "half of the cases." And finally let us consider the real case K=R.  Then a solution on the line u+v+p+1=0  corresponds to the solution of the following system of equations: {u 2 +pu+q=vu+v=−(p+1)   Thus using Lemma we see that the functional equation has no solution if the quadratic equation u 2 +pu+q=−p−1−u  (or, equivalently,  u 2 +(p+1)u+p+q+1=0  ) has two distinct roots. Computing its discriminant yields D=(p+1) 2 −4(p+q+1)=(p−1) 2 −4(q+1).  Thus there are no real solutions of (++) if  (p−1) 2 −4(q+1)>0.  Conclusions. f(f(x))=x 2 +px+q  has "almost never" complex solutions, i.e.  f:C→C  or solutions over other algebraically closed fields.   f(f(x))=x 2 +px+q    has no real solutions if (p−1) 2 −4(q+1)>0.  The proof of both facts doesn't use anything more but some high school math. 