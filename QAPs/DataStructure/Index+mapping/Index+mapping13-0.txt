What should you do if you want to join against your main database from Hadoop?There are at least a few reasons why just querying it adhoc might be bad: network saturation on your Hadoop cluster, performance of MapReduce, load on your databases.
In the past (mostly at Yelp), my teams have used the following three solutions, in order of preference: As much as possible, avoid the need by including the database data or some computation thereof in the logs you're analyzing -- probably by custom application-level logging. Use intelligent batching and/or caching to avoid having O(log line) queries against the database. Ship a sufficient, stale subsection of your database to the local filesystem of each of your Hadoop machines and query against that. You might have to deal with consistency issues. 