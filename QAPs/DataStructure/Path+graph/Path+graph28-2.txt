How do I get the shortest path from the bottom to the top of a graph?
Using an list representation of the image, you can create a graph as follows: Associate each rock with the rocks one can jump to from this rock. By this I mean for each rock, create a list of other rocks close the rock. Your definition of "close" is up to you Start with your last rock and use BFS (Breadth First Search), or Dijkstra's or A* to find the shortest path to the top of the river. NOTE: Since you have imposed a limit on the number of rocks to use, then it might be the case that your chosen algorithm might use more rocks than you wanted. In that case, you have to either adjust your definition of "close" or abandon the idea of ever crossing that river. 