What are some of the most ingenious algorithms in computer science?added bonus if the algorithm runs in constant time
John Carmack’s Unusual Inverse Square Root   A fast glance at the file game/code/q_math.c reveals many interesting performance hacks. The first thing that pops out is the use of the number 0x5f3759df in the function Q_rsqrt, which calculates the inverse square root of a float and why does this function actually work?   Not only does it work, on some CPU’s Carmack’s Q_rsqrt runs up to 4 times faster than (float)(1.0/sqrt(x), eventhough sqrt() is usually implemented using the FSQRT assembly instruction!   The really interesting aspect of this function is the magic constant 0x5f3759df, used to calculate the initial guess, in :   i  = 0x5f3759df - ( i >> 1 );   Hence, dividing the input by 2 and subtracting it from the magic constant. This constant works almost perfectly – Only one Newton approximation iteration is required for a low relative error of 10^-3. . As the code illustrates in the commented out second iteration, this approximation is good enough for the Quake III engine. It turns out that the magic constant 0x5f3759df is a real mystery. Updated 17 May 2012 • View Upvotes