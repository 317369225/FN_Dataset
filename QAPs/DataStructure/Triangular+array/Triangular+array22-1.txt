How can I differentiate between a sine wave or triangular wave (or any kind of wave) using an AVR microcontroller?
I would first acquire a couple periods at the frequency that you can manage in terms of memory. You can store the results in an array variable inside the microcontroller or dump the results into an external memory if it is needed. Then apply the least squares method. The method, correct me if I'm wrong, just sums the square of the differences between the data point and the fitted curve. Now, this may be a demanding process for your microcontoller because you have to fit a multivariable function to the data. If you know the frequency of the wave it is one less parameter. If you also know the wave phase, it is only a matter of varying the amplitude of the sine, say, from 0 to 5V, and do the same with a triangular wave. Then you choose the wave that had the least sum of the squares of the difference from data points to corresponding function. The keywords are least squares! :) 