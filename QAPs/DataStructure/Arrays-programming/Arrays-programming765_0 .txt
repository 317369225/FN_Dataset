What should be the maximum size of segment tree built on an array on 100,000 elements?I assume you're referring to the setup where you preallocate a large array to store the nodes of the segment tree. It is possible to allocate only 199,999 elements by staggering the leaves across the bottom two levels, but this requires computing the range covered by each node as you recurse over the tree, which is fairly inefficient. Instead, most implementations use a power of two with a dummy element at 0, like Sudharshan suggests. As a result, a lot of operations become much simpler, since the children of node i are always 2i 2i and 2i+1 2i+1 . In addition, the ith ith node on the kth kth level then has index 2k+i 2k+i . This only wastes a constant factor of memory, which is usually inconsequential in competitive programming. This is similar to how binary heaps are typically implemented. 3.3k Views  View Upvotes