How do I solve the SPOJ ALICECUB problem using BFS?
The constraints of the problem allow you to do bfs on the entire state space There are 16C8 = 12870 ways of lighting 8 bulbs out of 16. Also, the hypercube has 32 edges and hence there are at most 32 ways of moving from one state to another. 12870Ã—32 is a reasonable number. Let the vertices of the graph be the states of the bulbs. It is probably easiest to represent them by bitmasks. We can precompute the number of steps required for each vertex. Start with bitmask 255 (corresponding to the state with last 8 bulbs being lit) and do a bfs from there. For each vertex, find all pairs of adjacent bulbs in different states. Flipping each pair takes you to the adjacent vertex in the bfs. The bfs can be stopped after 3 levels due to the specification in the problem. Once this precomputation is done to find the distance from the 255-state to all other states, each query can be answered in O(1). 