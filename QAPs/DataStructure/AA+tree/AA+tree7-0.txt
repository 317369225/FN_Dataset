What is the best way of storing hierarchical data within a MongoDB database?
There is no single "best" way to do this. The primary reason for this is that you have to make trade-offs between "embedding" vs. "referencing". http://www.mongodb.org/display/D... See the general rules for some basic guidelines. Personally, I think the big key when storing hierarchical data is to make decisions about "is this a top-level entity". Take a simple example of on-line ordering. Technically each Order belongs to a User. So theoretically, you could store all Orders within User documents. But both User and Order are really "top-level" objects. An Order is useful without the User object, so I would typically model the Order and the User as separate collections. By the same measure, every Order has Order Shipping details. Order Shipping belongs to an Order. In this case the Order Shipping is probably not relevant without the Order itself. Typically I would model the Order Shipping inside of the Order object. In both cases we had "A belongs to B", but they were handled differently. So again, there is no "best way", you will have to design appropriately. Updated 237w ago â€¢ View Upvotes