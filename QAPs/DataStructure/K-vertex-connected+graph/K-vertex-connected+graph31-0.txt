How do I count number of necklaces without group theory?
The definition of necklaces is group-theoretic, and the formula in question involves Euler's totient function [math]\varphi[/math], whose definition is number-theoretic, so we have to first give "combinatorial" definitions of these objects. I put the word combinatorial in quotes because it is more fruitful to seek the underlying unity of mathematics rather than dissecting it into separate fields. The purpose of making combinatorial proofs is not to limit ourselves to one method, but to see if we can gain insight by considering multiple viewpoints. Let [math]W_n(k)[/math] be the set of [math]k[/math]-ary words of length [math]n[/math]. Recall that [math]|W_n(k)| = k^n[/math]. Let [math]R: W_n(k) \to W_n(k)[/math] be the bijection defined by [math](x_1, x_2, \dots, x_n) \mapsto (x_2, \dots, x_n, x_1)[/math]. Let's make a graph [math]R_n(k)[/math] whose vertex set is [math]W_n(k)[/math] and two vertices [math]a[/math] and [math]b[/math] are connected by an edge if [math]R(a) = b[/math]. Since [math]R[/math] is a bijection, [math]R_n(k)[/math] is a disjoint union of cycles. The set of words in a connected component of [math]R_n(k)[/math] is called a [math]k[/math]-ary [math]n[/math]-bead necklace. In particular, notice that each necklace is a set of words. Let [math]N_n(k)[/math] denote the set of [math]k[/math]-ary [math]n[/math]-bead necklaces. By construction we have a surjective map [math]W_n(k) \to N_n(k)[/math]. For example: [math]W_4(2)[/math] has 16 elements: 0000, 0001, 0010, 0011, 0100, 0101, 0110, 0111, 1000, 1001, 1010, 1011, 1100, 1101, 1110, 1111 while [math]N_4(2)[/math] has 6 elements: [math]\{ 0000 \}[/math] [math]\{ 0001, 0010, 0100, 1000 \}[/math] [math]\{ 0011, 0110, 1100, 1001 \}[/math] [math]\{ 0101, 1010 \}[/math] [math]\{ 0111, 1011, 1101, 1110 \}[/math] [math]\{ 1111 \}[/math] Now let [math]r: \{0, \dots, n-1\} \to \{0, \dots, n-1\}[/math] be the bijection defined by [math]r(i) = i+1[/math] if [math] i \leq n-2 [/math] and [math]r(n-1) = 0[/math]. Let [math]A_n(j)[/math] denote the graph with vertex set [math]\{0, \dots, n-1\}[/math] and two vertices [math]a[/math] and [math]b[/math] are connected by an edge if [math]r^j(a) = b[/math]. Note that [math]A_n(0)[/math] has no edges, while [math]A_n(1)[/math] is equal to the [math]n[/math]-cycle graph [math]C_n[/math]. Since [math]r^j[/math] is a bijection, [math]A_n(j)[/math] is a disjoint union of cycles. A little thought about the symmetry of the situation shows that each of the components of [math]A_n(j)[/math] must have the same size. So the number of components and the size of each component must be divisors of [math]n[/math]. Define [math]\varphi(n)[/math] to be the number of [math]0 \leq j \leq n-1[/math] such that [math]A_n(j)[/math] has exactly one component. If [math]A_n(j)[/math] has more than one component, then [math]A_n(j)[/math] must be a disjoint union of [math]n/d[/math] cycles of size [math]d[/math], for some divisor [math]d[/math] of [math]n[/math]. I'll leave it to you to convince yourself that my definition is equivalent to the usual definition of [math]\varphi[/math]. By the way, note that the component of [math]A_n(j)[/math] containing the vertex 0 is isomorphic to [math]A_d(i)[/math] for some [math]i[/math] and divisor [math]d[/math] of [math]n[/math], where the vertex labels are scaled accordingly. By counting the number of [math]A_n(j)[/math] with [math]n/d[/math] components, we obtain the following beautiful formula: [math] \sum_{d|n} \varphi(d) = n [/math]. We are now ready to state the necklace counting formula: [math]|N_n(k)| = \frac{1}{n} \sum_{d|n} \varphi(d) k^{\frac{n}{d}} [/math] Proof: Construct a table with [math]k^n[/math] rows and [math]n[/math] columns as follows: in the [math]0[/math]-th column (i.e. the leftmost column), write the elements of [math]W_n(k)[/math]. In the row corresponding to a word [math]w[/math], write the word [math]R^j(w)[/math] in the [math]j[/math]-th column.  For each row in the table, mark all the entries which coincide with the entry in the leftmost column. In particular, every entry in the [math]0[/math]-th column will be marked. How many total entries in the table have been marked? First, let's count by rows. Let's permute the rows of the table so that the row with leftmost entry [math]R(w)[/math] lies right below the row with leftmost entry [math]w[/math]. In this way, the [math]0[/math]-th column is organized according to the necklaces in [math]N_n(k)[/math]. For example, for [math]n=4[/math] and [math]k=2[/math], we get the following table, where marked elements are labeled with [math]*[/math], and the rows are organized into necklace blocks: [math] \begin{array}{|c|c|c|c|} \hline0000* & 0000* & 0000* & 0000* \\ \hline \hline0001* & 0010 & 0100 & 1000 \\ \hline 0010* & 0100 & 1000 & 0001 \\ \hline 0100* & 1000 & 0001 & 0010 \\ \hline 1000* & 0001 & 0010 & 0100 \\ \hline \hline0011* & 0110 & 1100 & 1001 \\ \hline 0110* & 1100 & 1001 & 0011 \\ \hline 1100* & 1001 & 0011 & 0110 \\ \hline 1001* & 0011 & 0110 & 1100 \\ \hline \hline0101* & 1010 & 0101* & 1010 \\ \hline 1010* & 0101 & 1010* & 0101 \\ \hline \hline0111* & 1110 & 1101 & 1011 \\ \hline 1110* & 1101 & 1011 & 0111 \\ \hline 1101* & 1011 & 0111 & 1110 \\ \hline 1011* & 0111 & 1110 & 1101 \\ \hline \hline1111* & 1111* & 1111* & 1111* \\ \hline \end{array} [/math] Note that within each necklace block, the first column corresponds exactly to the entries occurring before the second marked entry. It follows that we can set up a bijection from the marked entries in a necklace block with a single row in the necklace block. In other words, we get [math]n[/math] marked entries for each necklace, so the total number of marked entries is equal to [math]n |N_n(k)|[/math]. Now let's count by columns. The marked entries in the [math]j[/math]-th column correspond to [math]k[/math]-ary vertex labelings of the graph [math]A_n(j)[/math] which are constant along each component. If there are [math]n/d[/math] components, we only need to choose a label for each one, so there are [math]k^{\frac{n}{d}}[/math] possible choices. Since there are [math]\varphi(d)[/math] graphs [math]A_n(j)[/math] that consist of [math]d[/math]-cycles, we see that the number of marked entries is equal to: [math] \sum_{d|n} \varphi(d) k^{\frac{n}{d}}[/math]. Q.E.D. If you work through the above proof, you will see that I have simply translated the proof of the so-called Burnside Theorem (I prefer to call it the Cauchy-Frobenius Lemma) into combinatorial language and applied it to the cyclic group. I have also swept some details about cyclic group actions under the rug. Hopefully, the proof of this special case illuminates the more general proof. Needless to say, there are many other fascinating connections between these and other structures. Updated 14w ago • View Upvotes • Asked to answer by Aslan Magramov