What are some best practices to write a good hash function?
Using a largely used, tested and praised function. Really, good hash functions belong to the cryptography field, everything in that area is "dedicate your life or fail", its highly unlikely that someone will come up with a better hash then the standard ones in terms of hash quality. But if you want to try the basic idea of a hash function is to generate a constant size pseudo-random string where the seed is the input file, in a way that even small (1 bit) changes in the input produce a ~50% chance of change in every bit of the output, that can be obtained by for instance, using a good block cypher with a know key in the file, and then XORing all the blocks generated. 