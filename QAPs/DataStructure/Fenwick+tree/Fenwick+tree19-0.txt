What is the most complex line of C code you have created or encountered?
I was trying to find a concise way to test pointer values, because writing my own if-then-else statements to do it was an absolute nightmare for code maintainability. I was working on a language interpreter that had about 20 linked lists, some of them cross-linked, in MS-DOS. If I dereferenced a null pointer, the system locked up, and I'd have to reboot. I wanted to find a way to "crash" the program gracefully in case I ran into one of these, in a way that would help me diagnose the problem, and interrupt execution so that the program would terminate, without locking up the system. I wanted to create a statement that I could terminate with a semicolon, so it would look like any other statement. I finally came up with something like the following: #define PtrAssert(ptr) \ if (ptr == NULL) return printf("Pointer is null in %s, at line %d\n", __FILE__, __LINE__), C_ERROR It worked great. The reason it works is the comma sequencer only returns the value of the rightmost expression in the sequence, thereby returning (to the return statement) C_ERROR, not the output of printf(). It was the only time I used the comma operator outside of a for-loop. 