If f(f(x))=x 2 −1  , what is f(x)  ?Obviously there are an infinite many solutions, but just one will suffice :P
As Alon Amit showed, the function creates a cycle (left picture below), yielding three restrictions for a  :     a≠0  ,     a≠−1  and     a≠b  . It is really trivial to see that each condition is necessary to prevent that either f(0)  or f(−1)  is ambiguous. However, since the sum of a  and b    a+b=(a+b)(a−b)a−b =a 2 −b 2 a−b =(a 2 −1)−(b 2 −1)a−b =b−aa−b                =−1  , is equal to minus one (red line in graph), the only solutions for a  are actually:      a=0∨a=−1    (where the graphs intersect) which are exactly those solutions not allowed by the cycle. ■  Updated 23 Oct • View Upvotes