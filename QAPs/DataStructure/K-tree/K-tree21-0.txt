Given an undirected graph where edges have been colored, can I find a spanning tree with exactly k colors?
As the answers above have mentioned, this problem is NP-hard for k>=3 and a solution can be obtained trivially in time O([math]n^{2k}[/math] poly(n)). One can do slightly better in terms of running time and obtain a running time of O([math]2^{n^2}[/math] poly(n) ) by using a fairly standard Dynamic program. In particular, maintain the subset of labels as the state of the dynamic program. Hence, the minimum spanning tree using the subset of colors S is minimum of the MST using the labels [math]S\setminus \{l\}[/math] plus the MST formed on the edges [math]T \cup E_l[/math] where T is the MST using the labels [math]S\setminus \{l\}[/math] and [math]E_l[/math] is the edges labelled with label l. 