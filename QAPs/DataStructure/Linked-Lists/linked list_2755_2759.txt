sub-linear-time order set -lrb- ! = sort set -rrb- implementation ? another pretty simple solution be a balanced binary search tree with threading -lrb- a overlaid link list pass through all the node of the tree in order of they original insertion -rrb- . then insertion\/search\/removal be all o -lrb- log n -rrb- , and iteration be o -lrb- n -rrb- . you just update insert\/remove to either append to the link list or remove the node from it . 